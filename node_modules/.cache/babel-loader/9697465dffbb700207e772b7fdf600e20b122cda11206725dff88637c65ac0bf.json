{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveStyle = toHaveStyle;\nvar _jestMatcherUtils = require(\"jest-matcher-utils\");\nvar _jestDiff = _interopRequireDefault(require(\"jest-diff\"));\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\nvar _utils = require(\"./utils\");\nfunction getStyleDeclaration(document, css) {\n  const styles = {}; // The next block is necessary to normalize colors\n\n  const copy = document.createElement('div');\n  Object.keys(css).forEach(property => {\n    copy.style[property] = css[property];\n    styles[property] = copy.style[property];\n  });\n  return styles;\n}\nfunction isSubset(styles, computedStyle) {\n  return Object.entries(styles).every(_ref => {\n    let [prop, value] = _ref;\n    return computedStyle.getPropertyValue(prop.toLowerCase()) === value;\n  });\n}\nfunction printoutStyles(styles) {\n  return Object.keys(styles).sort().map(prop => `${prop}: ${styles[prop]};`).join('\\n');\n} // Highlights only style rules that were expected but were not found in the\n// received computed styles\n\nfunction expectedDiff(expected, computedStyles) {\n  const received = Array.from(computedStyles).filter(prop => expected[prop]).reduce((obj, prop) => Object.assign(obj, {\n    [prop]: computedStyles.getPropertyValue(prop)\n  }), {});\n  const diffOutput = (0, _jestDiff.default)(printoutStyles(expected), printoutStyles(received)); // Remove the \"+ Received\" annotation because this is a one-way diff\n\n  return diffOutput.replace(`${_chalk.default.red('+ Received')}\\n`, '');\n}\nfunction toHaveStyle(htmlElement, css) {\n  (0, _utils.checkHtmlElement)(htmlElement, toHaveStyle, this);\n  const parsedCSS = (0, _utils.parseCSS)(css, toHaveStyle, this);\n  const {\n    getComputedStyle\n  } = htmlElement.ownerDocument.defaultView;\n  const expected = getStyleDeclaration(htmlElement.ownerDocument, parsedCSS);\n  const received = getComputedStyle(htmlElement);\n  return {\n    pass: isSubset(expected, received),\n    message: () => {\n      const matcher = `${this.isNot ? '.not' : ''}.toHaveStyle`;\n      return [(0, _jestMatcherUtils.matcherHint)(matcher, 'element', ''), expectedDiff(expected, received)].join('\\n\\n');\n    }\n  };\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","toHaveStyle","_jestMatcherUtils","_jestDiff","_chalk","_utils","getStyleDeclaration","document","css","styles","copy","createElement","keys","forEach","property","style","isSubset","computedStyle","entries","every","prop","getPropertyValue","toLowerCase","printoutStyles","sort","map","join","expectedDiff","expected","computedStyles","received","Array","from","filter","reduce","obj","assign","diffOutput","default","replace","red","htmlElement","checkHtmlElement","parsedCSS","parseCSS","getComputedStyle","ownerDocument","defaultView","pass","message","matcher","isNot","matcherHint"],"sources":["/Users/aniiaakhmetova/Desktop/React/05-starting-project/node_modules/@testing-library/jest-dom/dist/to-have-style.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveStyle = toHaveStyle;\n\nvar _jestMatcherUtils = require(\"jest-matcher-utils\");\n\nvar _jestDiff = _interopRequireDefault(require(\"jest-diff\"));\n\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\n\nvar _utils = require(\"./utils\");\n\nfunction getStyleDeclaration(document, css) {\n  const styles = {}; // The next block is necessary to normalize colors\n\n  const copy = document.createElement('div');\n  Object.keys(css).forEach(property => {\n    copy.style[property] = css[property];\n    styles[property] = copy.style[property];\n  });\n  return styles;\n}\n\nfunction isSubset(styles, computedStyle) {\n  return Object.entries(styles).every(([prop, value]) => computedStyle.getPropertyValue(prop.toLowerCase()) === value);\n}\n\nfunction printoutStyles(styles) {\n  return Object.keys(styles).sort().map(prop => `${prop}: ${styles[prop]};`).join('\\n');\n} // Highlights only style rules that were expected but were not found in the\n// received computed styles\n\n\nfunction expectedDiff(expected, computedStyles) {\n  const received = Array.from(computedStyles).filter(prop => expected[prop]).reduce((obj, prop) => Object.assign(obj, {\n    [prop]: computedStyles.getPropertyValue(prop)\n  }), {});\n  const diffOutput = (0, _jestDiff.default)(printoutStyles(expected), printoutStyles(received)); // Remove the \"+ Received\" annotation because this is a one-way diff\n\n  return diffOutput.replace(`${_chalk.default.red('+ Received')}\\n`, '');\n}\n\nfunction toHaveStyle(htmlElement, css) {\n  (0, _utils.checkHtmlElement)(htmlElement, toHaveStyle, this);\n  const parsedCSS = (0, _utils.parseCSS)(css, toHaveStyle, this);\n  const {\n    getComputedStyle\n  } = htmlElement.ownerDocument.defaultView;\n  const expected = getStyleDeclaration(htmlElement.ownerDocument, parsedCSS);\n  const received = getComputedStyle(htmlElement);\n  return {\n    pass: isSubset(expected, received),\n    message: () => {\n      const matcher = `${this.isNot ? '.not' : ''}.toHaveStyle`;\n      return [(0, _jestMatcherUtils.matcherHint)(matcher, 'element', ''), expectedDiff(expected, received)].join('\\n\\n');\n    }\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}